(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a08c3e6c"],{"3d8e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{staticClass:"mb-15"},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"mr-6 ml-6",attrs:{cols:"11",md:"10",lg:"8"}},[a("v-app-bar-nav-icon",{staticClass:"mt-6",on:{click:function(e){return e.stopPropagation(),t.setDrawerState.apply(null,arguments)}}}),a("v-layout",{staticClass:"mt-8",attrs:{"align-center":"","justify-center":""}},[a("v-avatar",{attrs:{color:"primary",size:"90"}},[t.user.info.image?a("img",{attrs:{src:"http://127.0.0.1:8000/images/"+t.user.info.image,height:"90",width:"90",alt:"Profile Image"}}):a("span",{staticClass:"white--text text-h5"},[t._v(t._s(t.user.info.first_name[0])+t._s(t.user.info.last_name[0]))])])],1),a("v-layout",{staticClass:"mt-1"},[a("v-col",{staticClass:"text-center"},[a("p",{staticClass:"text-h5 font-weight-bold"},[t._v(t._s(t.user.info.first_name)+" "+t._s(t.user.info.last_name))]),a("p",{staticClass:"caption"},[t._v(t._s(t.user.email))]),a("p",{staticClass:"caption grey--text"},[t._v("ADMINISTRATOR")])])],1),a("p",{staticClass:"mt-6 text-uppercase primary--text"},[a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-account-circle")]),t._v(" Profile Image ")],1),a("v-divider",{staticClass:"mt-2"}),a("v-form",{ref:"imageupload",on:{submit:function(e){return e.preventDefault(),t.uploadProfileImage.apply(null,arguments)}}},[a("v-file-input",{attrs:{type:"file","show-size":"",accept:".png,.jpg,.jpeg.,.webp,.svg ",label:"Upload Image","truncate-length":"25"},model:{value:t.data.profileimg,callback:function(e){t.$set(t.data,"profileimg",e)},expression:"data.profileimg"}}),a("p",{staticClass:"grey--text"},[t._v("Note: This will replace your current image if you have.")]),a("v-btn",{attrs:{type:"submit",color:"success darken-1 mt-3",dark:""}},[t._v("Upload")])],1),a("p",{staticClass:"mt-6 text-uppercase primary--text"},[a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-account-circle")]),t._v(" Personal Information ")],1),a("v-divider",{staticClass:"mt-2"}),a("v-form",{ref:"form",staticClass:"mt-5"},[a("v-row",[a("v-col",{staticClass:"pa-1 white--text mt-2",attrs:{cols:"12",sm:"6",md:"6",lg:"6"}},[a("v-text-field",{attrs:{type:"text","hide-details":"auto",loading:t.initialLoading,clearable:"",outlined:"",label:"First Name",dense:"",rules:[t.rules.required]},model:{value:t.data.first_name,callback:function(e){t.$set(t.data,"first_name",e)},expression:"data.first_name"}})],1),a("v-col",{staticClass:"pa-1 white--text mt-2",attrs:{cols:"12",sm:"6",md:"6",lg:"6"}},[a("v-text-field",{attrs:{type:"text","hide-details":"auto",loading:t.initialLoading,clearable:"",outlined:"",label:"Middle Name",dense:"",rules:[t.rules.required]},model:{value:t.data.middle_name,callback:function(e){t.$set(t.data,"middle_name",e)},expression:"data.middle_name"}})],1),a("v-col",{staticClass:"pa-1 white--text mt-2",attrs:{cols:"12",sm:"6",md:"6",lg:"6"}},[a("v-text-field",{attrs:{type:"text","hide-details":"auto",loading:t.initialLoading,clearable:"",outlined:"",label:"Last Name",dense:"",rules:[t.rules.required]},model:{value:t.data.last_name,callback:function(e){t.$set(t.data,"last_name",e)},expression:"data.last_name"}})],1),a("v-col",{staticClass:"pa-1 white--text mt-2",attrs:{cols:"12",sm:"6",md:"6",lg:"6"}},[a("v-text-field",{attrs:{type:"text","hide-details":"auto",loading:t.initialLoading,clearable:"",outlined:"",label:"Contact Number",dense:"",rules:[t.rules.required]},model:{value:t.data.contact_number,callback:function(e){t.$set(t.data,"contact_number",e)},expression:"data.contact_number"}})],1),a("v-col",{staticClass:"pa-1 white--text mt-2",attrs:{cols:"12",sm:"6",md:"6",lg:"6"}},[a("v-select",{attrs:{items:t.gender,outlined:"",label:"Select gender",dense:""},model:{value:t.data.gender,callback:function(e){t.$set(t.data,"gender",e)},expression:"data.gender"}})],1)],1),a("p",{staticClass:"mt-4 text-uppercase primary--text"},[a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-account-key")]),t._v(" Login Credentials ")],1),a("v-divider",{staticClass:"mt-2 mb-5"}),a("v-text-field",{attrs:{type:"text","hide-details":"auto",loading:t.initialLoading,clearable:"",outlined:"",rules:[t.rules.required,t.rules.email],label:"Email Address","prepend-inner-icon":"mdi-email",dense:""},model:{value:t.data.email,callback:function(e){t.$set(t.data,"email",e)},expression:"data.email"}}),a("v-text-field",{staticClass:"mt-3",attrs:{type:"password",clearable:"",outlined:"","hide-details":"auto",label:"Password","prepend-inner-icon":"mdi-lock",hint:"If empty, password wont be changed","persistent-hint":"",dense:""},model:{value:t.data.password,callback:function(e){t.$set(t.data,"password",e)},expression:"data.password"}}),a("v-dialog",{attrs:{persistent:"","max-width":"320"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-btn",t._g(t._b({attrs:{color:"success darken-1 mt-3",dark:""}},"v-btn",r,!1),s),[t._v(" Save Changes ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[t._v(" Update Account ")]),a("v-card-text",[t._v("Enter your current password to save your changes")]),a("v-text-field",{staticClass:"pl-5 pr-5",attrs:{type:"password","hide-details":"auto",hint:"Current Password",rules:[t.rules.required],required:"",counter:"",clearable:"",outlined:"",label:"Current password",dense:""},model:{value:t.data.confirm_password,callback:function(e){t.$set(t.data,"confirm_password",e)},expression:"data.confirm_password"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"grey darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[t._v(" Proceed ")])],1)],1)],1)],1),a("p",{staticClass:"mt-6 text-uppercase primary--text"},[a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-file-compare")]),t._v(" Officially Enrolled ")],1),a("v-divider",{staticClass:"mt-2 mb-2"}),a("v-form",{ref:"filechecking",on:{submit:function(e){return e.preventDefault(),t.uploadFile.apply(null,arguments)}}},[a("v-file-input",{attrs:{type:"file","show-size":"",accept:".xlsx,.csv","hide-details":"auto",label:"Officially Enrolled List","truncate-length":"25"},model:{value:t.data.filechecking,callback:function(e){t.$set(t.data,"filechecking",e)},expression:"data.filechecking"}}),a("p",{staticClass:"grey--text mt-2"},[t._v("Note: This will update duplicate records from the previous import if it has and will also update the status of the applicants record")]),a("v-btn",{attrs:{type:"submit",color:"success darken-1 mt-3",dark:""}},[t._v("Upload")])],1),a("p",{staticClass:"mt-6 text-uppercase primary--text"},[a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-file-compare")]),t._v(" TES Grantee ")],1),a("v-divider",{staticClass:"mt-2 mb-2"}),a("v-form",{ref:"filechecking",on:{submit:function(e){return e.preventDefault(),t.uploadTESGrantee.apply(null,arguments)}}},[a("v-file-input",{attrs:{type:"file","show-size":"",accept:".xlsx,.csv","hide-details":"auto",label:"TES Grantee Masterlist","truncate-length":"25"},model:{value:t.data.tesfile,callback:function(e){t.$set(t.data,"tesfile",e)},expression:"data.tesfile"}}),a("v-select",{staticClass:"pt-2 mt-3",attrs:{items:t.fileType,"hide-details":"auto",rules:[t.rules.required],outlined:"",label:"File Upload For",dense:""},model:{value:t.data.type,callback:function(e){t.$set(t.data,"type",e)},expression:"data.type"}}),a("p",{staticClass:"grey--text mt-2"},[t._v("Note: This will update duplicate records from the previous import if it has and will also update the status of the users record")]),a("v-btn",{attrs:{type:"submit",color:"success darken-1 mt-3",dark:""}},[t._v("Upload")])],1),a("v-layout",{staticClass:"mt-5"},[a("v-dialog",{attrs:{persistent:"","max-width":"290"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"white--text",attrs:{depressed:"",color:"red darken-1"}},"v-btn",r,!1),s),[t._v(" Log-out "),a("v-icon",{attrs:{color:"white",right:""}},[t._v("mdi-exit-to-app")])],1)]}}]),model:{value:t.dialogLogout,callback:function(e){t.dialogLogout=e},expression:"dialogLogout"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[t._v(" Confirm Log-out ")]),a("v-card-text",[t._v("Are you sure you want to log-out?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"gray",text:""},on:{click:function(e){t.dialogLogout=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"green darken-3",text:""},on:{click:t.logout}},[t._v(" Yes ")])],1)],1)],1)],1)],1)],1)],1)],1)},r=[],i=a("1da1"),n=a("5530"),l=(a("96cf"),a("2f62")),o=a("09ab"),c={data:function(){return{dialogLogout:!1,data:{first_name:"",middle_name:"",last_name:"",gender:"",contact_number:"",email:"",password:"",type:"TES Grantees",confirm_password:""},rules:{required:function(t){return!!t||"Required."},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Invalid e-mail."}},changePassword:!1,gender:[{value:"Male",text:"Male"},{value:"Female",text:"Female"}],fileType:[{value:"TES Grantees",text:"TES Grantees"},{value:"Delisted Grantees",text:"Delisted Grantees"},{value:"Graduated Grantees",text:"Graduated Grantees"}]}},computed:Object(n["a"])({},Object(l["c"])("auth",["user"])),mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.initialLoading=!0,document.title="Account Settings",e.next=4,t.$store.dispatch("auth/checkUser");case 4:t.setDetails(),t.initialLoading=!1;case 6:case"end":return e.stop()}}),e)})))()},methods:Object(n["a"])(Object(n["a"])({},Object(l["b"])("auth",["logoutUser"])),{},{setDrawerState:function(){this.$store.commit("updates/SET_DRAWER_STATE")},logout:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,t.logoutUser();case 3:a=e.sent,200==a.status?t.$router.push("/"):401==a.status&&(t.$store.commit("auth/UNSET_USER"),t.$router.push("/")),t.isLoading=!1;case 6:case"end":return e.stop()}}),e)})))()},uploadProfileImage:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.data.profileimg){e.next=9;break}return a=new FormData,a.append("img",t.data.profileimg),e.next=5,o["a"].post("user/upload-files/image",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.data.profileimg=null,t.$toast.success(e.data.msg)})).catch((function(t){console.log({error:t})}));case 5:return e.next=7,t.$store.dispatch("auth/checkUser");case 7:e.next=10;break;case 9:t.$toast.error("Please select an image");case 10:case"end":return e.stop()}}),e)})))()},uploadFile:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.data.filechecking){e.next=8;break}return a=new FormData,a.append("filechecking",t.data.filechecking),a.append("type","Official"),e.next=6,o["a"].post("user/upload-files",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.$toast.success(e.data.msg)})).catch((function(t){console.log({error:t})}));case 6:e.next=9;break;case 8:t.$toast.error("Please select a file");case 9:case"end":return e.stop()}}),e)})))()},uploadTESGrantee:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.data.tesfile){e.next=8;break}return a=new FormData,a.append("filechecking",t.data.tesfile),a.append("type",t.data.type),e.next=6,o["a"].post("user/upload-files/tes",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.data.tesfile=null,t.$toast.success(e.data.msg)})).catch((function(t){console.log({error:t})}));case 6:e.next=9;break;case 8:t.$toast.error("Please select a file");case 9:case"end":return e.stop()}}),e)})))()},setDetails:function(){this.data.first_name=this.user.info.first_name,this.data.middle_name=this.user.info.middle_name,this.data.last_name=this.user.info.last_name,this.data.gender=this.user.info.gender,this.data.contact_number=this.user.info.contact_number,this.data.email=this.user.email},save:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$refs.form.validate(),e.next=3,t.$store.dispatch("auth/updateAdminAccount",t.data);case 3:a=e.sent,s=a.status,r=a.data,t.checkStatus(r,s,"","auth/checkUser"),t.data.password="";case 8:case"end":return e.stop()}}),e)})))()}})},d=c,u=a("2877"),p=a("6544"),m=a.n(p),v=a("5bc1"),f=a("8212"),g=a("8336"),h=a("b0af"),b=a("99d9"),x=a("62ad"),_=a("a523"),w=a("169a"),k=a("ce7e"),y=a("23a7"),C=a("4bd4"),j=a("132d"),$=a("a722"),O=a("0fd9"),S=a("b974"),T=a("2fa4"),L=a("8654"),R=Object(u["a"])(d,s,r,!1,null,null,null);e["default"]=R.exports;m()(R,{VAppBarNavIcon:v["a"],VAvatar:f["a"],VBtn:g["a"],VCard:h["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:x["a"],VContainer:_["a"],VDialog:w["a"],VDivider:k["a"],VFileInput:y["a"],VForm:C["a"],VIcon:j["a"],VLayout:$["a"],VRow:O["a"],VSelect:S["a"],VSpacer:T["a"],VTextField:L["a"]})},"5bc1":function(t,e,a){"use strict";var s=a("5530"),r=(a("498a"),a("9d26")),i=a("8336"),n=a("2b0e");e["a"]=n["a"].extend({name:"v-app-bar-nav-icon",functional:!0,render:function(t,e){var a=e.slots,n=e.listeners,l=e.props,o=e.data,c=Object.assign(o,{staticClass:"v-app-bar__nav-icon ".concat(o.staticClass||"").trim(),props:Object(s["a"])(Object(s["a"])({},l),{},{icon:!0}),on:n}),d=a().default;return t(i["a"],c,d||[t(r["a"],"$menu")])}})},"99d9":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return l})),a.d(e,"c",(function(){return o}));var s=a("b0af"),r=a("80d2"),i=Object(r["j"])("v-card__actions"),n=Object(r["j"])("v-card__subtitle"),l=Object(r["j"])("v-card__text"),o=Object(r["j"])("v-card__title");s["a"]},b0af:function(t,e,a){"use strict";var s=a("5530"),r=(a("a9e3"),a("0481"),a("615b"),a("10d2")),i=a("297c"),n=a("1c87"),l=a("58df");e["a"]=Object(l["a"])(i["a"],n["a"],r["a"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes:function(){return Object(s["a"])(Object(s["a"])({"v-card":!0},n["a"].options.computed.classes.call(this)),{},{"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised},r["a"].options.computed.classes.call(this))},styles:function(){var t=Object(s["a"])({},r["a"].options.computed.styles.call(this));return this.img&&(t.background='url("'.concat(this.img,'") center center / cover no-repeat')),t}},methods:{genProgress:function(){var t=i["a"].options.methods.genProgress.call(this);return t?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[t]):null}},render:function(t){var e=this.generateRouteLink(),a=e.tag,s=e.data;return s.style=this.styles,this.isClickable&&(s.attrs=s.attrs||{},s.attrs.tabindex=0),t(a,this.setBackgroundColor(this.color,s),[this.genProgress(),this.$slots.default])}})}}]);
//# sourceMappingURL=chunk-a08c3e6c.4d00a95f.js.map